<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chatzi â€” Start</title>
  <link rel="icon" href="./assets/logo.svg" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body class="startPage">
  <header class="topbarSimple">
    <div class="brandRow">
      <img class="brandLogo" src="./assets/logo.svg" alt="Chatzi" />
      <div class="brandName">Chatzi</div>
    </div>
  </header>

  <main class="startMain">
    <div class="startCard">
      <div class="startTitle">Start Chatting!</div>
      <div class="startSub">Choose your gender and start yapping.</div>

      <div class="handleLine">
        Your handle: <b id="handle">@anonymous</b>
      </div>

      <div class="labelRow">Select your gender <span class="req">*</span></div>

      <div class="genderGrid">
        <button class="genderBtn" data-g="Male">â™‚ Male</button>
        <button class="genderBtn" data-g="Female">â™€ Female</button>
        <button class="genderBtn" data-g="Other">âš§ Other</button>
      </div>

      <button id="startBtn" class="btnPrimary wide" disabled>Start Text Chat</button>

      <div class="miniNote">
        Be kind ğŸ¤ â€¢ No personal info ğŸš« â€¢ Stay safe âœ…
      </div>
    </div>
  </main>

  <script>
    // Random handle generator
    const animals = ["tiger","otter","hawk","wolf","panda","fox","lion","eagle","bear","dolphin","rabbit","koala"];
    const adj = ["wild","neon","fast","calm","proud","bright","silent","mystic","gentle","royal","swift","cool"];
    const num = () => Math.floor(1000 + Math.random() * 9000);
    const pick = (arr) => arr[Math.floor(Math.random() * arr.length)];
    const name = `${pick(adj)}_${pick(animals)}_${num()}`;

    const handleEl = document.getElementById("handle");
    handleEl.textContent = "@"+name;

    let gender = "";
    const buttons = document.querySelectorAll(".genderBtn");
    buttons.forEach(b => {
      b.addEventListener("click", () => {
        buttons.forEach(x => x.classList.remove("active"));
        b.classList.add("active");
        gender = b.dataset.g;
        document.getElementById("startBtn").disabled = false;
      });
    });

    document.getElementById("startBtn").addEventListener("click", () => {
      const url = `./chat.html?name=${encodeURIComponent(name)}&gender=${encodeURIComponent(gender)}`;
      window.location.href = url;
    });
  </script>
</body>
</html>
